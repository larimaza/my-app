{"ast":null,"code":"import _defineProperty from \"/Users/lari/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { SET_MATCH, GET_MATCHES, CHANGE_WEATHER } from \"./types\";\nimport initialState from \"./state\";\nexport default ((state = initialState, action) => {\n  switch (action.type) {\n    case SET_MATCH:\n      {\n        if (!action.payload) {\n          return _objectSpread({}, state, {\n            isMatchLit: false\n          });\n        }\n\n        if (state.weather === \"Rain\" && action.payload) {\n          return _objectSpread({}, state, {\n            isMatchLit: false,\n            matchCount: 0\n          });\n        }\n\n        if (state.matchCount > 0 && !state.isMatchLit) {\n          return _objectSpread({}, state, {\n            isMatchLit: action.payload,\n            matchCount: state.matchCount - 1\n          });\n        }\n\n        return state;\n      }\n\n    case GET_MATCHES:\n      {\n        const matchboxLimit = 20;\n        const newMatchCount = state.matchCount + action.payload;\n\n        if (state.weather === \"Rain\" || state.weather === \"Snow\") {\n          return _objectSpread({}, state, {\n            matchCount: 0\n          });\n        }\n\n        if (newMatchCount > matchboxLimit) {\n          return _objectSpread({}, state, {\n            matchCount: 20\n          });\n        }\n\n        return _objectSpread({}, state, {\n          matchCount: newMatchCount\n        });\n      }\n\n    case CHANGE_WEATHER:\n      {\n        if (action.payload === \"Snow\") {\n          return _objectSpread({}, state, {\n            isMatchLit: false,\n            matchCount: 0,\n            weather: action.payload\n          });\n        }\n\n        if (action.payload === \"Rain\") {\n          return _objectSpread({}, state, {\n            isMatchLit: false,\n            weather: action.payload\n          });\n        }\n\n        return _objectSpread({}, state, {\n          weather: action.payload\n        });\n      }\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/lari/my-app/src/state/reducer.js"],"names":["SET_MATCH","GET_MATCHES","CHANGE_WEATHER","initialState","state","action","type","payload","isMatchLit","weather","matchCount","matchboxLimit","newMatchCount"],"mappings":";;;;;;AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,cAAjC,QAAuD,SAAvD;AACA,OAAOC,YAAP,MAAyB,SAAzB;AAEA,gBAAe,CAACC,KAAK,GAAGD,YAAT,EAAuBE,MAAvB,KAAkC;AAC/C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,SAAL;AAAgB;AACd,YAAI,CAACK,MAAM,CAACE,OAAZ,EAAqB;AACnB,mCACKH,KADL;AAEEI,YAAAA,UAAU,EAAE;AAFd;AAID;;AAED,YAAIJ,KAAK,CAACK,OAAN,KAAkB,MAAlB,IAA4BJ,MAAM,CAACE,OAAvC,EAAgD;AAC9C,mCACKH,KADL;AAEEI,YAAAA,UAAU,EAAE,KAFd;AAGEE,YAAAA,UAAU,EAAE;AAHd;AAKD;;AAED,YAAIN,KAAK,CAACM,UAAN,GAAmB,CAAnB,IAAwB,CAACN,KAAK,CAACI,UAAnC,EAA+C;AAC7C,mCACKJ,KADL;AAEEI,YAAAA,UAAU,EAAEH,MAAM,CAACE,OAFrB;AAGEG,YAAAA,UAAU,EAAEN,KAAK,CAACM,UAAN,GAAmB;AAHjC;AAKD;;AAED,eAAON,KAAP;AACD;;AAED,SAAKH,WAAL;AAAkB;AAChB,cAAMU,aAAa,GAAG,EAAtB;AACA,cAAMC,aAAa,GAAGR,KAAK,CAACM,UAAN,GAAmBL,MAAM,CAACE,OAAhD;;AAEA,YAAIH,KAAK,CAACK,OAAN,KAAkB,MAAlB,IAA4BL,KAAK,CAACK,OAAN,KAAkB,MAAlD,EAA0D;AACxD,mCACKL,KADL;AAEEM,YAAAA,UAAU,EAAE;AAFd;AAID;;AAED,YAAIE,aAAa,GAAGD,aAApB,EAAmC;AACjC,mCACKP,KADL;AAEEM,YAAAA,UAAU,EAAE;AAFd;AAID;;AAED,iCACKN,KADL;AAEEM,UAAAA,UAAU,EAAEE;AAFd;AAID;;AAED,SAAKV,cAAL;AAAqB;AACnB,YAAIG,MAAM,CAACE,OAAP,KAAmB,MAAvB,EAA+B;AAC7B,mCACKH,KADL;AAEEI,YAAAA,UAAU,EAAE,KAFd;AAGEE,YAAAA,UAAU,EAAE,CAHd;AAIED,YAAAA,OAAO,EAAEJ,MAAM,CAACE;AAJlB;AAMD;;AAED,YAAIF,MAAM,CAACE,OAAP,KAAmB,MAAvB,EAA+B;AAC7B,mCACKH,KADL;AAEEI,YAAAA,UAAU,EAAE,KAFd;AAGEC,YAAAA,OAAO,EAAEJ,MAAM,CAACE;AAHlB;AAKD;;AAED,iCACKH,KADL;AAEEK,UAAAA,OAAO,EAAEJ,MAAM,CAACE;AAFlB;AAID;;AAED;AACE,aAAOH,KAAP;AA7EJ;AA+ED,CAhFD","sourcesContent":["import { SET_MATCH, GET_MATCHES, CHANGE_WEATHER } from \"./types\";\nimport initialState from \"./state\";\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_MATCH: {\n      if (!action.payload) {\n        return {\n          ...state,\n          isMatchLit: false\n        };\n      }\n\n      if (state.weather === \"Rain\" && action.payload) {\n        return {\n          ...state,\n          isMatchLit: false,\n          matchCount: 0\n        }\n      }\n\n      if (state.matchCount > 0 && !state.isMatchLit) {\n        return {\n          ...state,\n          isMatchLit: action.payload,\n          matchCount: state.matchCount - 1\n        };\n      }\n\n      return state;\n    }\n\n    case GET_MATCHES: {\n      const matchboxLimit = 20;\n      const newMatchCount = state.matchCount + action.payload;\n\n      if (state.weather === \"Rain\" || state.weather === \"Snow\") {\n        return {\n          ...state,\n          matchCount: 0\n        }\n      }\n\n      if (newMatchCount > matchboxLimit) {\n        return {\n          ...state,\n          matchCount: 20\n        }\n      }\n\n      return {\n        ...state,\n        matchCount: newMatchCount\n      }\n    }\n\n    case CHANGE_WEATHER: {\n      if (action.payload === \"Snow\") {\n        return {\n          ...state,\n          isMatchLit: false,\n          matchCount: 0,\n          weather: action.payload\n        }\n      }\n\n      if (action.payload === \"Rain\") {\n        return {\n          ...state,\n          isMatchLit: false,\n          weather: action.payload\n        }\n      } \n\n      return {\n        ...state,\n        weather: action.payload\n      }\n    }\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}